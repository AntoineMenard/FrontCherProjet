<div *ngIf="myService.SessionEntreprise()">
    <div *ngIf="myService.userEnLigne()">
        <div class="container bgWhite container-ombre">
            <br>
            <h1>Projets en attente de candidats</h1>
            <hr>
            <br>
            <div class="row">

                <div class="col-sm-6" *ngFor="let p of projetattente">

                    <mat-card class="card-style">
                        <mat-card-header>
                            <div mat-card-avatar>
                                <img [src]="changeForm(p.entreprise.photo)" width="50px"
                                    style="background-size: cover;">
                            </div>
                            <mat-card-title>{{p.nom}}</mat-card-title>
                            <mat-card-subtitle>{{p.dateDebut}} - {{p.dateFin}}</mat-card-subtitle>
                        </mat-card-header>
                        <mat-card-content>
                            <p>{{p.descriptif}} </p>
                            <br>
                            <p style="color:gray">
                                <b>Participants nécéssaires :</b> {{p.nbrParticipants}} <br>
                                <b>Participants reel :</b> {{p.nbrParticipantsReel}} <br>
                                <b>Intéressement : </b> {{p.interessement}}
                            </p>

                        </mat-card-content>
                        <mat-card-subtitle *ngFor="let n of domainesProjet ">
                            <div *ngIf="n.domaine.idDomaine != '1' && n.projet.idProjet== p.idProjet">
                                {{n.domaine.domaine}}</div>
                        </mat-card-subtitle>

                        <mat-card-actions>
                            <button mat-button (click)="modifProjet(p)">Modifier</button>
                            <button mat-button (click)="validerProjet(p)">Voir les candidatures</button>
                            <button mat-button (click)="deleteProjet(p)">Supprimer</button>
                            <button mat-button (click)="lancerProjet(p)">Lancer le projet</button>
                        </mat-card-actions>
                    </mat-card>

                </div>

            </div>
            <br>
            <h1>Projets terminés</h1>
            <hr>
            <br>

            <div class="row">
                <div class="col-sm-6" *ngFor="let p of projetpasse">
                    <mat-card class="card-style">
                        <mat-card-header>
                            <div mat-card-avatar>
                                <img [src]="changeForm(p.entreprise.photo)" width="50px"
                                    style="background-size: cover;">
                            </div>
                            <mat-card-title>{{p.nom}}</mat-card-title>
                            <mat-card-subtitle>{{p.dateDebut}} - {{p.dateFin}}</mat-card-subtitle>
                        </mat-card-header>
                        <mat-card-content>
                            <p>{{p.descriptif}} </p>
                            <br>
                            <p style="color:gray">
                                <b>Participants nécéssaires :</b> {{p.nbrParticipants}} <br>
                                <b>Intéressement : </b> {{p.interessement}}
                            </p>
                        </mat-card-content>
                        <mat-card-subtitle *ngFor="let n of domainesProjet ">
                            <div *ngIf="n.domaine.idDomaine != '1' && n.projet.idProjet== p.idProjet">
                                {{n.domaine.domaine}}</div>
                        </mat-card-subtitle>
                        <mat-card-actions>
                            <button mat-button (click)="modifProjet(p)">Modifier</button>
                            <button mat-button (click)="deleteProjet(p)">Supprimer</button>
                        </mat-card-actions>
                    </mat-card>
                    

                </div>
            </div>
            <br>
            <h1>Projets en cours</h1>
            <hr>
            <br>
            <div class="row">
                <div class="col-sm-6" *ngFor="let p of projetencours">
                    <mat-card class="card-style">
                        <mat-card-header>
                            <div mat-card-avatar>
                                <img [src]="changeForm(p.entreprise.photo)" width="50px"
                                    style="background-size: cover;">
                            </div>
                            <mat-card-title>{{p.nom}}</mat-card-title>
                            <mat-card-subtitle>{{p.dateDebut}} - {{p.dateFin}}</mat-card-subtitle>
                        </mat-card-header>
                        <mat-card-content>
                            <p>{{p.descriptif}} </p>
                            <br>
                            <p style="color:gray">
                                <b>Participants nécéssaires :</b> {{p.nbrParticipants}} <br>
                                <b>Intéressement : </b> {{p.interessement}}
                            </p>
                        </mat-card-content>
                        <mat-card-subtitle *ngFor="let n of domainesProjet ">
                            <div *ngIf="n.domaine.idDomaine != '1' && n.projet.idProjet== p.idProjet">
                                {{n.domaine.domaine}}</div>
                        </mat-card-subtitle>
                        <mat-card-actions>
                            <button mat-button (click)="modifProjet(p)">Modifier</button>
                            <button mat-button (click)="deleteProjet(p)">Supprimer</button>
                            <button mat-button (click)="goToProjet(p)">Gestion du projet</button>
                        </mat-card-actions>
                    </mat-card>
                    <br>
                </div>

            </div>
            <br>
            <h1>Projets à venir</h1>
            <hr>
            <br>

            <div class="row">
                    <div class="col-sm-6" *ngFor="let p of projetavenir">
                            <mat-card class="cadr-style">
                                <mat-card-header>
                                    <div mat-card-avatar>
                                        <img [src]="changeForm(p.entreprise.photo)" width="50px"
                                            style="background-size: cover;">
                                    </div>
                                    <mat-card-title>{{p.nom}}</mat-card-title>
                                    <mat-card-subtitle>{{p.dateDebut}} - {{p.dateFin}}</mat-card-subtitle>
                                </mat-card-header>
                                <mat-card-content>
                                    <p>{{p.descriptif}} </p>
                                    <br>
                                    <p style="color:gray">
                                        <b>Participants nécéssaires :</b> {{p.nbrParticipants}} <br>
                                        <b>Intéressement : </b> {{p.interessement}}
                                    </p>
                                </mat-card-content>
                                <mat-card-subtitle *ngFor="let n of domainesProjet ">
                                    <div *ngIf="n.domaine.idDomaine != '1' && n.projet.idProjet== p.idProjet">
                                        {{n.domaine.domaine}}</div>
                                </mat-card-subtitle>
                                <mat-card-actions>
                                    <button mat-button (click)="modifProjet(p)">Modifier</button>
                                    <button mat-button (click)="deleteProjet(p)">Supprimer</button>
                                </mat-card-actions>
                            </mat-card>
                            <br>
                    </div>
            </div>
        </div>

    </div>
</div>